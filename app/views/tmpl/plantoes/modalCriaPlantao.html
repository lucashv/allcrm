<div class="modal-header">
  <h4 class="modal-title"><strong>Cadastrar no plantão :</strong> {{corretor.nome + ' '+ corretor.sobreNome }} </h4>
</div>
<div class="modal-body" cg-busy="loadingTiposPlantoes">
  <form class="form-horizontal" name="formCadPlantao" ng-submit="salvar(corretor)" role="form" novalidate>
    <div class="form-group">
      <label class="col-sm-2 control-label">Tipo Plantão</label>
      <div class="col-sm-10">
        <select class="form-control rounded" ng-model="plantao.tipo" name="tipoPlantao" ng-options="tiposPlantoes as tiposPlantoes.tipo for tiposPlantoes in tiposPlantoesList" required>
          <option value="">Selecione o tipo do plantão</option>
        </select>
      </div>
    </div>
    <div class="form-group" ng-if="plantao.tipo">
      <label class="col-sm-2 control-label" for="posicao">Posição</label>
      <div class="col-sm-10">
        <input type="number" class="form-control rounded" id="posicao" name="posicao" ng-blur="validaPosicao(plantao.posicao, plantao.tipo)" ng-model="plantao.posicao" placeholder="Posição" required />
      </div>
    </div>
    <div class="alert alert-danger alert-dismissable col-sm-11 block" ng-if="showAlertPosicao">
      Posição já cadastrada para outro corretor.
    </div>
    <br>
    <div class="form-group" ng-if="plantao.tipo">
      <label class="col-sm-2 control-label" for="ramal">Ramal</label>
      <div class="col-sm-10">
        <input type="number" class="form-control rounded" id="ramal" name="ramal" ng-model="plantao.ramal" placeholder="Ramal" required />
      </div>
    </div>
  </form>
</div>
<div class="modal-footer" cg-busy="loadingSalvar">
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button busy-when-url="/plantoes" busy='<i class="fa fa-spin fa-spinner"></i><small>&nbsp;&nbsp;Salvando</small>' class="btn btn-success " ng-click="salvar(corretor)" ng-disabled="formCadPlantao.$invalid">
        <i class="fa fa-save"></i>
        <span>&nbsp;&nbsp;Salvar</span>
      </button>
      <button class="btn btn-danger " type="reset" ng-click="cancel()">
        <i class="fa fa-trash-o"></i>
        <span>&nbsp;&nbsp;Cancelar</span>
      </button>
    </div>
  </div>
</div>
</div>
